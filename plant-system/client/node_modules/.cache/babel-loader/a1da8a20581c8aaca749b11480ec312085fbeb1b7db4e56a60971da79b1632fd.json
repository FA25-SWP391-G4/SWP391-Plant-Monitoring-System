{"ast":null,"code":"import{Navigate}from\"react-router-dom\";import{useAuth}from\"./AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ProtectedRoute(_ref){let{children,roles}=_ref;const{user,loading}=useAuth();if(loading)return null;if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});if(roles&&!roles.includes(user.role))return/*#__PURE__*/_jsx(Navigate,{to:\"/upgrade\",replace:true});return children;}","map":{"version":3,"names":["Navigate","useAuth","jsx","_jsx","ProtectedRoute","_ref","children","roles","user","loading","to","replace","includes","role"],"sources":["C:/Users/Admin/Downloads/SWP391/SWP391-Plant-Monitoring-System/plant-system/client/src/auth/ProtectedRoute.jsx"],"sourcesContent":["import { Navigate } from \"react-router-dom\";\r\nimport { useAuth } from \"./AuthContext\";\r\n\r\nexport default function ProtectedRoute({ children, roles }) {\r\n  const { user, loading } = useAuth();\r\n  if (loading) return null;\r\n  if (!user) return <Navigate to=\"/login\" replace />;\r\n  if (roles && !roles.includes(user.role)) return <Navigate to=\"/upgrade\" replace />;\r\n  return children;\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,cAAe,SAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAsB,IAArB,CAAEC,QAAQ,CAAEC,KAAM,CAAC,CAAAF,IAAA,CACxD,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAGR,OAAO,CAAC,CAAC,CACnC,GAAIQ,OAAO,CAAE,MAAO,KAAI,CACxB,GAAI,CAACD,IAAI,CAAE,mBAAOL,IAAA,CAACH,QAAQ,EAACU,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CAClD,GAAIJ,KAAK,EAAI,CAACA,KAAK,CAACK,QAAQ,CAACJ,IAAI,CAACK,IAAI,CAAC,CAAE,mBAAOV,IAAA,CAACH,QAAQ,EAACU,EAAE,CAAC,UAAU,CAACC,OAAO,MAAE,CAAC,CAClF,MAAO,CAAAL,QAAQ,CACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}